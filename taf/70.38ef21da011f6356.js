"use strict";(self.webpackChunkJantTaf_angular=self.webpackChunkJantTaf_angular||[]).push([[70],{8070:(w,g,s)=>{s.r(g),s.d(g,{PublicModule:()=>T});var d=s(6814),u=s(3213),p=s(5861),a=s(95),t=s(4769),m=s(1994);function f(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1," login est obligatoire "),t.qZA())}function _(e,l){if(1&e&&(t.TgZ(0,"div",26),t.YNc(1,f,2,0,"div",27),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.username.errors.required)}}function h(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1," Le mot de passe est obligatoire "),t.qZA())}function v(e,l){if(1&e&&(t.TgZ(0,"div",26),t.YNc(1,h,2,0,"div",27),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.password.errors.required)}}const c=function(e){return{"is-invalid":e}},b=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:(()=>{class e{constructor(n,i,o){this.formBuilder=n,this.api=i,this.router=o,this.submitted=!1,this.loading_add_agents=!1}ngOnInit(){this.init_form()}init_form(){this.reactiveForm_add_agents=this.formBuilder.group({username:["",a.kI.required],password:["",a.kI.required]})}get f(){return this.reactiveForm_add_agents.controls}onSubmit_add_agents(){if(this.submitted=!0,console.log(this.reactiveForm_add_agents.value),!this.reactiveForm_add_agents.invalid){var n=this.reactiveForm_add_agents.value;console.log("agents",n),this.login(n)}}onReset_add_agents(){this.submitted=!1,this.reactiveForm_add_agents.reset()}login(n){var i=this;this.loading_add_agents=!0,this.api.taf_post_login("taf_admin/login.php",n,function(){var o=(0,p.Z)(function*(r){r.status?(console.log("Op\xe9ration effectu\xe9e avec succ\xe9s sur la table agents. R\xe9ponse= ",r),i.onReset_add_agents(),yield i.api.save_on_local_storage("token",r.data),i.api.network.token=r.data,i.router.navigate(["/home"])):(console.log("L'op\xe9ration sur la table agents a \xe9chou\xe9. R\xe9ponse= ",r),i.api.Swal_error("L'op\xe9ration a echou\xe9")),i.loading_add_agents=!1});return function(r){return o.apply(this,arguments)}}(),o=>{this.loading_add_agents=!1})}toggle_password_button(){toggle_password()}rediriger(){let n=parseInt(this.api.token.token_decoded.taf_data.id_privilege);this.router.navigate(1==n||2==n||4==n?["/home/sgc"]:3==n||6==n?["/home/sgp"]:7==n?["/home/sgp/vaccination"]:8==n?["/home/sgp/livraison"]:9==n?["/home/sgp/releve"]:10==n?["/home/sgp/approvisionnement_piece"]:11==n?["/public/chauffeur"]:12==n?["/home/sgco/client"]:["/home/sgc"])}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(a.qu),t.Y36(m.s),t.Y36(u.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:35,vars:11,consts:[[1,"container-xxl"],[1,"authentication-wrapper","authentication-basic","container-p-y"],[1,"authentication-inner","vh-100","align-items-center","d-flex","justify-content-center"],[1,"card"],[1,"card-body"],[1,"app-brand","justify-content-center"],["href","index.html",1,"app-brand-link","gap-2"],[1,"app-brand-logo","demo"],["src","assets/img/our/favicon.ico","alt","","width","20"],[1,"app-brand-text","demo","text-body","fw-bolder"],[1,"mb-2","text-center"],[1,"mb-4"],["id","formAuthentication",1,"mb-3",3,"formGroup","ngSubmit"],["form_add_agents","ngForm"],[1,"mb-3"],["for","login",1,"form-label"],["id","login","type","text","formControlName","username","placeholder","login","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"mb-3","form-password-toggle"],[1,"d-flex","justify-content-between"],["for","password",1,"form-label"],[1,"input-group","input-group-merge"],["type","password","id","password","name","password","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7","aria-describedby","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"input-group-text","cursor-pointer",3,"click"],[1,"bx","bx-hide"],[1,"btn","base-backcolor","text-white","d-grid","w-100",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6)(7,"span",7),t._UZ(8,"img",8),t.qZA(),t.TgZ(9,"span",9),t._uU(10,"Jant-Taf"),t.qZA()()(),t._UZ(11,"hr"),t.TgZ(12,"h4",10),t._uU(13,"Bienvenue sur Jant-Taf! \u{1f44b}"),t.qZA(),t.TgZ(14,"p",11),t._uU(15,"Merci de renseigner un login et un mot de passe correct"),t.qZA(),t.TgZ(16,"form",12,13),t.NdJ("ngSubmit",function(){return o.onSubmit_add_agents()}),t.TgZ(18,"div",14)(19,"label",15),t._uU(20,"Nom d'utilisateur Jant-TAf"),t.qZA(),t._UZ(21,"input",16),t.YNc(22,_,2,1,"div",17),t.qZA(),t.TgZ(23,"div",18)(24,"div",19)(25,"label",20),t._uU(26,"Mot de passe Jant-TAf"),t.qZA()(),t.TgZ(27,"div",21),t._UZ(28,"input",22),t.TgZ(29,"span",23),t.NdJ("click",function(){return o.toggle_password_button()}),t._UZ(30,"i",24),t.qZA(),t.YNc(31,v,2,1,"div",17),t.qZA()(),t.TgZ(32,"div",14)(33,"button",25),t._uU(34),t.qZA()()()()()()()()),2&i&&(t.xp6(16),t.Q6J("formGroup",o.reactiveForm_add_agents),t.xp6(5),t.Q6J("ngClass",t.VKq(7,c,o.submitted&&o.f.username.errors)),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.f.username.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(9,c,o.submitted&&o.f.password.errors)),t.xp6(3),t.Q6J("ngIf",o.submitted&&o.f.password.errors),t.xp6(2),t.Q6J("disabled",o.loading_add_agents),t.xp6(1),t.Oqu(o.loading_add_agents?"En cours...":"Seconnecter"))},dependencies:[d.mk,d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".base-color-our[_ngcontent-%COMP%]{color:#09aab8!important}.base-backcolor[_ngcontent-%COMP%]{background-color:#09aab8!important}"]})}return e})()}];let Z=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(b),u.Bz]})}return e})(),T=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[d.ez,a.UX,a.u5,Z]})}return e})()}}]);